(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Administrator-page"],{"1dde":function(e,t,o){var r=o("d039"),a=o("b622"),n=o("2d00"),i=a("species");e.exports=function(e){return n>=51||!r((function(){var t=[],o=t.constructor={};return o[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"4de4":function(e,t,o){"use strict";var r=o("23e7"),a=o("b727").filter,n=o("1dde"),i=o("ae40"),s=n("filter"),c=i("filter");r({target:"Array",proto:!0,forced:!s||!c},{filter:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},8418:function(e,t,o){"use strict";var r=o("c04e"),a=o("9bf2"),n=o("5c6c");e.exports=function(e,t,o){var i=r(t);i in e?a.f(e,i,n(0,o)):e[i]=o}},"99af":function(e,t,o){"use strict";var r=o("23e7"),a=o("d039"),n=o("e8b5"),i=o("861d"),s=o("7b0b"),c=o("50c4"),l=o("8418"),d=o("65f0"),u=o("1dde"),m=o("b622"),f=o("2d00"),h=m("isConcatSpreadable"),p=9007199254740991,v="Maximum allowed index exceeded",g=f>=51||!a((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),b=u("concat"),_=function(e){if(!i(e))return!1;var t=e[h];return void 0!==t?!!t:n(e)},w=!g||!b;r({target:"Array",proto:!0,forced:w},{concat:function(e){var t,o,r,a,n,i=s(this),u=d(i,0),m=0;for(t=-1,r=arguments.length;t<r;t++)if(n=-1===t?i:arguments[t],_(n)){if(a=c(n.length),m+a>p)throw TypeError(v);for(o=0;o<a;o++,m++)o in n&&l(u,m,n[o])}else{if(m>=p)throw TypeError(v);l(u,m++,n)}return u.length=m,u}})},afcd:function(e,t,o){"use strict";var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h2",[e._v("Modifica informazioni")]),o("form",{on:{submit:function(t){return t.preventDefault(),e.modInfo(t)},reset:e.reset}},[o("Credenziali",{directives:[{name:"show",rawName:"v-show",value:"consumer"!=e.potere,expression:"potere != 'consumer'"}],attrs:{required:!1,username:e.username,password:e.password},on:{"change-info":e.change_home}}),o("UserInfo",{attrs:{required:!1,name:e.name,email:e.email},on:{"change-info":e.change_home}}),"uploader"===e.role?o("Logo",{attrs:{required:!1,logo:e.logo},on:{"change-info":e.change_home}}):e._e(),o("b-button",{attrs:{type:"submit",variant:"success"}},[e._v("Modifica informazioni")]),o("b-button",{attrs:{type:"reset",variant:"danger"}},[e._v("Reset")])],1),o("section",[o("h3",[e._v("Istruzioni per la modifica")]),o("p",[e._v("Inserire i dati da modificare (non si puÃ² modificare l'username).")]),o("p",{directives:[{name:"show",rawName:"v-show",value:"consumer"!=e.potere,expression:"potere != 'consumer'"}]},[e._v(" Se si vuole modificare le informazioni di un altro utente immettere l'username. ")])])])},a=[],n=(o("b0c0"),o("2ca0"),o("a4e7")),i=o("66e6"),s=o("278f"),c=o("fa7d"),l=o("62c3"),d=o.n(l);d.a.defaults.headers["Authorization"]="Bearer ".concat(localStorage.getItem("jwtToken"));var u={name:"ModInfo",mixins:[c["b"]],props:["potere","role"],components:{Credenziali:n["a"],UserInfo:i["a"],Logo:s["a"]},data:function(){return{}},methods:{modInfo:function(){var e=this;d.a.post("".concat("/api","/attori/modInfo"),{username:this.username,password:this.password,name:this.name,email:this.email,role:this.role,logo:this.logo}).then((function(t){t.data.startsWith("ERR")||e.reset(),e.$emit("modInfo",t.data)})).catch((function(t){e.$emit("modInfo","ERR(esterno) - "+t)}))}}},m=u,f=o("2877"),h=Object(f["a"])(m,r,a,!1,null,"36239ed9",null);t["a"]=h.exports},fb90:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"dark"}},[o("b-navbar-brand",{on:{click:function(t){return e.showSezione("")}}},[e._v("Administrator page")]),o("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),o("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[o("b-navbar-nav",{staticClass:"ml-auto"},[o("b-nav-item",{on:{click:function(t){return e.showSezione("")}}},[e._v("Resoconto")]),o("b-nav-item-dropdown",{attrs:{text:"Crea Attore"}},[o("b-dropdown-item",{on:{click:function(t){e.showSezione("registration"),e.roleRegistrazione="administrator"}}},[e._v("Administrator")]),o("b-dropdown-item",{on:{click:function(t){e.showSezione("registration"),e.roleRegistrazione="uploader"}}},[e._v("Uploader")])],1),o("b-nav-item-dropdown",{attrs:{text:"Modifica Attore"}},[o("b-dropdown-item",{on:{click:function(t){e.showSezione("modInfo"),e.roleRegistrazione="administrator"}}},[e._v("Administrator")]),o("b-dropdown-item",{on:{click:function(t){e.showSezione("modInfo"),e.roleRegistrazione="uploader"}}},[e._v("Uploader")])],1),o("b-nav-item",{on:{click:function(t){return e.showSezione("deleteActor")}}},[e._v("Eliminazione Attore")])],1)],1)],1),o("div",{directives:[{name:"show",rawName:"v-show",value:""==e.sezione,expression:"sezione == ''"}]},[o("h2",[e._v("Resoconto uploader")]),o("h3",[e._v(" Periodo selezionato (anno-mese-giorno): dal "+e._s(e.dateFromSelected)+" al "+e._s(e.dateToSelected)+" ")]),o("p",[e._v(" I file caricati il giorno d'inizio del periodo sono inclusi, quelli caricati il giorno di conclusione del periodo sono esclusi. ")]),o("b-form",{staticStyle:{"margin-bottom":"10px"},attrs:{inline:""},on:{submit:function(t){return t.preventDefault(),e.dataFilter(t)},reset:function(t){return t.preventDefault(),e.datesForLastMonth(t)}}},[o("DatesResume",{attrs:{dateFrom:e.dateFrom,dateTo:e.dateTo},on:{"change-info":e.change_home}}),o("b-button",{staticClass:"btn-inline",attrs:{type:"submit",variant:"outline-primary"}},[e._v("Resoconto")]),o("b-button",{staticClass:"btn-inline",attrs:{type:"reset",variant:"outline-danger"}},[e._v("Reset")])],1),o("Resume",{attrs:{resume:e.resume}})],1),o("div",{directives:[{name:"show",rawName:"v-show",value:"registration"==e.sezione,expression:"sezione == 'registration'"}]},[o("Registration",{attrs:{potere:e.ruolo,role:e.roleRegistrazione},on:{registrazione:e.registration_home}})],1),o("div",{directives:[{name:"show",rawName:"v-show",value:"modInfo"==e.sezione,expression:"sezione == 'modInfo'"}]},[o("ModInfo",{attrs:{potere:e.ruolo,role:e.roleRegistrazione},on:{modInfo:e.modInfo_home}})],1),o("div",{directives:[{name:"show",rawName:"v-show",value:"deleteActor"==e.sezione,expression:"sezione == 'deleteActor'"}]},[o("DeleteActor",{attrs:{potere:e.ruolo},on:{deleteActor_uploader:e.deleteActor_uploader_home,deleteActor:e.deleteActor_home}})],1),o("Messages",{attrs:{msg_success:e.msg_success,msg_error:e.msg_error,msg_warning:e.msg_warning}})],1)},a=[],n=(o("4de4"),o("be26")),i=o("afcd"),s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h2",[e._v("Eliminazione attore")]),o("form",{on:{submit:function(t){return t.preventDefault(),e.deleteActor(t)}}},[o("b-form-input",{attrs:{id:"username",type:"text",name:"username",placeholder:"username",required:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),o("b-button",{attrs:{type:"submit",variant:"danger"}},[e._v("Eliminazione")])],1),o("p",[e._v(" NB: non puoi cancellare il tuo account ")])])},c=[],l=(o("99af"),o("2ca0"),o("62c3")),d=o.n(l);d.a.defaults.headers["Authorization"]="Bearer ".concat(localStorage.getItem("jwtToken"));var u={name:"DeleteActor",props:["potere"],data:function(){return{username:""}},methods:{deleteActor:function(){var e=this;d.a.delete("".concat("/api","/attori/delete/").concat(this.username)).then((function(t){t.data.startsWith("ERR")||(e.$emit("deleteActor_uploader",e.username),e.username=""),e.$emit("deleteActor",t.data)})).catch((function(t){e.$emit("deleteActor","ERR(esterno) - "+t)}))}}},m=u,f=o("2877"),h=Object(f["a"])(m,s,c,!1,null,null,null),p=h.exports,v=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("b-container",[o("b-pagination",{attrs:{"total-rows":e.totalRows,"per-page":e.perPage,"first-number":"","last-number":"","prev-text":"Prev","next-text":"Next"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}}),o("b-table",{attrs:{striped:"","head-variant":"dark","table-variant":"secondary","sticky-header":"600px",responsive:"","current-page":e.currentPage,items:e.resume,fields:e.fields},scopedSlots:e._u([{key:"cell(details)",fn:function(t){return[o("b-button",{attrs:{variant:"light"},on:{click:t.toggleDetails}},[e._v(" "+e._s(t.detailsShowing?"Hide":"Show")+" ")])]}},{key:"row-details",fn:function(t){return[o("b-card",[o("b-row",{staticClass:"mb-2"},[o("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[o("b",[e._v("Name:")])]),o("b-col",[e._v(e._s(t.item.nameUploader))])],1),o("b-row",{staticClass:"mb-2"},[o("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[o("b",[e._v("Email:")])]),o("b-col",[e._v(e._s(t.item.emailUploader))])],1)],1)]}}])})],1)},g=[],b={name:"Resume",props:["resume"],data:function(){return{totalRows:0,currentPage:1,perPage:5,fields:["uploader",{key:"numDocCaricati",label:"#doc",sortable:!0},{key:"numConsDiversi",label:"#cons",sortable:!0},"details"]}}},_=b,w=Object(f["a"])(_,v,g,!1,null,null,null),z=w.exports,x=o("fb85"),A=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("b-form-group",[o("b-form-input",{attrs:{id:"dateFrom",name:"dateFrom",type:"date",required:""},nativeOn:{change:function(t){return e.change_info(t)}},model:{value:e.dateFrom,callback:function(t){e.dateFrom=t},expression:"dateFrom"}}),o("b-form-input",{attrs:{id:"dateTo",name:"dateTo",type:"date",required:""},nativeOn:{change:function(t){return e.change_info(t)}},model:{value:e.dateTo,callback:function(t){e.dateTo=t},expression:"dateTo"}})],1)},F=[],R=o("fa7d"),k={name:"DatesResume",props:["dateFrom","dateTo"],mixins:[R["a"]]},I=k,M=Object(f["a"])(I,A,F,!1,null,null,null),T=M.exports;d.a.defaults.headers["Authorization"]="Bearer ".concat(localStorage.getItem("jwtToken"));var S={name:"Administrator-page",components:{Registration:n["a"],ModInfo:i["a"],DeleteActor:p,Resume:z,DatesResume:T,Messages:x["a"]},mixins:[R["c"],R["d"]],data:function(){return{ruolo:"administrator",resume:[],dateFrom:"",dateTo:"",dateFromSelected:"",dateToSelected:"",roleRegistrazione:""}},methods:{change_home:function(e){var t=e.nameProp,o=e.valueProp;switch(t){case"dateFrom":this.dateFrom=o;break;case"dateTo":this.dateTo=o;break;default:break}},registration_home:function(e){this.showMsg(e)},modInfo_home:function(e){this.showMsg(e)},deleteActor_uploader_home:function(e){this.resume=this.resume.filter((function(t){return t.uploader!==e}))},deleteActor_home:function(e){this.showMsg(e)},dataFilter:function(){var e=this;d.a.post("".concat("/api","/list/resumeForAdmin"),{from:this.dateFrom,to:this.dateTo}).then((function(t){e.resume=t.data,e.dateFromSelected=e.dateFrom,e.dateToSelected=e.dateTo,e.showMsg("Resoconto fornito")})).catch((function(t){return e.msg_error=t}))},datesForLastMonth:function(){var e=new Date;0==e.getMonth()?this.dateFrom=e.getFullYear()-1+"-12-01":e.getMonth()>9?this.dateFrom=e.getFullYear()+"-"+e.getMonth()+"-01":this.dateFrom=e.getFullYear()+"-0"+e.getMonth()+"-01",e.getMonth()<9?this.dateTo=e.getFullYear()+"-0"+(e.getMonth()+1)+"-01":this.dateTo=e.getFullYear()+"-"+(e.getMonth()+1)+"-01"}},created:function(){this.datesForLastMonth(),this.dataFilter()}},y=S,E=Object(f["a"])(y,r,a,!1,null,null,null);t["default"]=E.exports}}]);
//# sourceMappingURL=Administrator-page.2bc5249f.js.map