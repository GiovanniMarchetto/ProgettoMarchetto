{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.last-index-of.js","webpack:///./src/views/Uploader-page.vue?7fe5","webpack:///./src/components/lists/Consumers.vue?5e36","webpack:///src/components/lists/Consumers.vue","webpack:///./src/components/lists/Consumers.vue?3a68","webpack:///./src/components/lists/Consumers.vue","webpack:///./src/components/functions/Upload.vue?7e10","webpack:///./src/components/input/FileInput.vue?597e","webpack:///src/components/input/FileInput.vue","webpack:///./src/components/input/FileInput.vue?8e36","webpack:///./src/components/input/FileInput.vue","webpack:///src/components/functions/Upload.vue","webpack:///./src/components/functions/Upload.vue?aa77","webpack:///./src/components/functions/Upload.vue","webpack:///src/views/Uploader-page.vue","webpack:///./src/views/Uploader-page.vue?9294","webpack:///./src/views/Uploader-page.vue","webpack:///./node_modules/core-js/internals/array-last-index-of.js"],"names":["$","lastIndexOf","target","proto","forced","render","_vm","this","_h","$createElement","_c","_self","attrs","on","$event","showSezione","_v","staticClass","roleRegistrazione","directives","name","rawName","value","sezione","expression","consumers","showFiles","deleteAct","_s","consumerScelto","filesConsumer","ruolo","registration_home","modInfo_home","upload_consumer_home","upload_file_home","upload_home","msg_success","msg_error","msg_warning","staticRenderFns","fields","scopedSlots","_u","key","fn","row","toggleDetails","detailsShowing","$emit","item","username","email","length","_e","components","props","data","component","preventDefault","upload","reset","file","nameFile","hashtag","change_home","model","callback","$$v","usernameCons","nameCons","emailCons","nativeOn","trasf64","change_info","mixins","watch","valoreFile","methods","reader","onload","onerror","console","log","error","readAsDataURL","imgObj","files","nameProp","valueProp","nameObject","substring","lastDot","valoreExt","localStorage","getItem","FileInput","UserInfo","extension","a","Consumers","Files","Upload","Registration","ModInfo","Messages","filesUploader","filter","consUsername","tipo","showMsg","frase","findIndex","push","fileCaricato","created","toIndexedObject","toInteger","toLength","arrayMethodIsStrict","arrayMethodUsesToLength","min","Math","nativeLastIndexOf","NEGATIVE_ZERO","STRICT_METHOD","USES_TO_LENGTH","ACCESSORS","1","FORCED","module","exports","searchElement","apply","arguments","O","index"],"mappings":"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","file":"js/Uploader-page.dd059cdd.js","sourcesContent":["var $ = require('../internals/export');\nvar lastIndexOf = require('../internals/array-last-index-of');\n\n// `Array.prototype.lastIndexOf` method\n// https://tc39.es/ecma262/#sec-array.prototype.lastindexof\n$({ target: 'Array', proto: true, forced: lastIndexOf !== [].lastIndexOf }, {\n  lastIndexOf: lastIndexOf\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-navbar',{attrs:{\"toggleable\":\"lg\",\"type\":\"dark\",\"variant\":\"dark\"}},[_c('b-navbar-brand',{on:{\"click\":function($event){return _vm.showSezione('')}}},[_vm._v(\"Uploader page\")]),_c('b-navbar-toggle',{attrs:{\"target\":\"nav-collapse\"}}),_c('b-collapse',{attrs:{\"id\":\"nav-collapse\",\"is-nav\":\"\"}},[_c('b-navbar-nav',{staticClass:\"ml-auto\"},[_c('b-nav-item',{on:{\"click\":function($event){return _vm.showSezione('')}}},[_vm._v(\"Lista consumer/file\")]),_c('b-nav-item',{on:{\"click\":function($event){_vm.showSezione('registration'), (_vm.roleRegistrazione = 'consumer')}}},[_vm._v(\"Creare Consumer\")]),_c('b-nav-item-dropdown',{attrs:{\"text\":\"Modifica Attore\"}},[_c('b-dropdown-item',{on:{\"click\":function($event){_vm.showSezione('modInfo'), (_vm.roleRegistrazione = 'consumer')}}},[_vm._v(\"Consumer\")]),_c('b-dropdown-item',{on:{\"click\":function($event){_vm.showSezione('modInfo'), (_vm.roleRegistrazione = 'uploader')}}},[_vm._v(\"Uploader\")])],1),_c('b-nav-item',{on:{\"click\":function($event){return _vm.showSezione('upload')}}},[_vm._v(\"Carica nuovo file\")])],1)],1)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.sezione == ''),expression:\"sezione == ''\"}]},[_c('h2',[_vm._v(\"Lista Consumer\")]),_c('Consumers',{attrs:{\"consumers\":_vm.consumers},on:{\"cons-files\":_vm.showFiles,\"del-cons\":_vm.deleteAct}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.sezione == 'files'),expression:\"sezione == 'files'\"}]},[_c('h2',[_vm._v(\"Lista Files di \"+_vm._s(_vm.consumerScelto))]),_c('b-button',{on:{\"click\":function($event){return _vm.showSezione('')}}},[_vm._v(\"Lista file\")]),_c('Files',{attrs:{\"files\":_vm.filesConsumer,\"ruolo\":_vm.ruolo},on:{\"del-file\":_vm.deleteAct}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.sezione == 'registration'),expression:\"sezione == 'registration'\"}]},[_c('Registration',{attrs:{\"potere\":_vm.ruolo,\"role\":_vm.roleRegistrazione},on:{\"registrazione\":_vm.registration_home}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.sezione == 'modInfo'),expression:\"sezione == 'modInfo'\"}]},[_c('ModInfo',{attrs:{\"potere\":_vm.ruolo,\"role\":_vm.roleRegistrazione},on:{\"modInfo\":_vm.modInfo_home}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.sezione == 'upload'),expression:\"sezione == 'upload'\"}]},[_c('Upload',{on:{\"upload_consumer\":_vm.upload_consumer_home,\"upload_file\":_vm.upload_file_home,\"upload\":_vm.upload_home}})],1),_c('Messages',{attrs:{\"msg_success\":_vm.msg_success,\"msg_error\":_vm.msg_error,\"msg_warning\":_vm.msg_warning}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-table',{attrs:{\"striped\":\"\",\"head-variant\":\"dark\",\"table-variant\":\"secondary\",\"sticky-header\":\"600px\",\"responsive\":\"\",\"items\":_vm.consumers,\"fields\":_vm.fields},scopedSlots:_vm._u([{key:\"cell(actions)\",fn:function(row){return [_c('b-button',{on:{\"click\":row.toggleDetails}},[_vm._v(\" \"+_vm._s(row.detailsShowing ? \"Hide\" : \"Show\")+\" Details \")]),_c('b-button',{attrs:{\"variant\":\"info\"},on:{\"click\":function($event){return _vm.$emit('cons-files', row.item.username)}}},[_vm._v(\"Mostra File\")]),_c('b-button',{staticClass:\"del\",on:{\"click\":function($event){return _vm.$emit('del-cons', row.item.username)}}},[_vm._v(\"Elimina consumer\")])]}},{key:\"row-details\",fn:function(row){return [_c('b-card',[_c('b-row',{staticClass:\"mb-2\"},[_c('b-col',{staticClass:\"text-sm-right\",attrs:{\"sm\":\"3\"}},[_c('b',[_vm._v(\"Name:\")])]),_c('b-col',[_vm._v(_vm._s(row.item.name))])],1),_c('b-row',{staticClass:\"mb-2\"},[_c('b-col',{staticClass:\"text-sm-right\",attrs:{\"sm\":\"3\"}},[_c('b',[_vm._v(\"Email:\")])]),_c('b-col',[_vm._v(_vm._s(row.item.email))])],1)],1)]}}])}),(_vm.consumers.length === 0)?_c('p',[_vm._v(\"Non ha caricato file ad alcun consumer\")]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <b-table\r\n      striped\r\n      head-variant=\"dark\"\r\n      table-variant=\"secondary\"\r\n      sticky-header=\"600px\"\r\n      responsive\r\n      :items=\"consumers\"\r\n      :fields=\"fields\"\r\n    >\r\n      <template #cell(actions)=\"row\">\r\n        <b-button @click=\"row.toggleDetails\">\r\n          {{ row.detailsShowing ? \"Hide\" : \"Show\" }} Details\r\n        </b-button>\r\n\r\n        <!-- <b-button variant=\"info\" @click=\"$emit('cons-files', row.item.username)\"\r\n          >Mostra File di questo consumer</b-button\r\n        > -->\r\n        <b-button variant=\"info\" @click=\"$emit('cons-files', row.item.username)\"\r\n          >Mostra File</b-button\r\n        >\r\n\r\n        <!-- <span style=\"display:inline-block; width: 10px;\"></span> -->\r\n\r\n        <b-button class=\"del\" @click=\"$emit('del-cons', row.item.username)\"\r\n          >Elimina consumer</b-button\r\n        >\r\n      </template>\r\n\r\n      <template #row-details=\"row\">\r\n        <b-card>\r\n          <b-row class=\"mb-2\">\r\n            <b-col sm=\"3\" class=\"text-sm-right\"><b>Name:</b></b-col>\r\n            <b-col>{{ row.item.name }}</b-col>\r\n          </b-row>\r\n\r\n          <b-row class=\"mb-2\">\r\n            <b-col sm=\"3\" class=\"text-sm-right\"><b>Email:</b></b-col>\r\n            <b-col>{{ row.item.email }}</b-col>\r\n          </b-row>\r\n        </b-card>\r\n      </template>\r\n    </b-table>\r\n\r\n    <p v-if=\"consumers.length === 0\">Non ha caricato file ad alcun consumer</p>\r\n  </div>\r\n  <!-- <div>\r\n    <div v-for=\"cons in consumers\" v-bind:key=\"cons.username\">\r\n      <ConsumerItem\r\n        :cons=\"cons\"\r\n        @cons-files=\"$emit('cons-files', cons.username)\"\r\n        @del-cons=\"$emit('del-cons', cons.username)\"\r\n      />\r\n    </div>\r\n  </div> -->\r\n</template>\r\n\r\n<script>\r\n// import ConsumerItem from \"./ConsumerItem\";\r\n\r\nexport default {\r\n  name: \"Consumers\",\r\n  components: {\r\n    // ConsumerItem,\r\n  },\r\n  props: [\"consumers\"],\r\n  data() {\r\n    return {\r\n      fields: [\"username\", \"actions\"],\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped></style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Consumers.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Consumers.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Consumers.vue?vue&type=template&id=3f49c4bd&scoped=true&\"\nimport script from \"./Consumers.vue?vue&type=script&lang=js&\"\nexport * from \"./Consumers.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3f49c4bd\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',[_vm._v(\"Caricamento file\")]),_c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.upload($event)},\"reset\":function($event){$event.preventDefault();return _vm.reset($event)}}},[_c('FileInput',{attrs:{\"file\":_vm.file,\"nameFile\":_vm.nameFile,\"hashtag\":_vm.hashtag},on:{\"change-info\":_vm.change_home}}),_c('legend',[_vm._v(\"Dati Consumer\")]),_c('b-container',[_c('b-form-group',{attrs:{\"id\":\"usernameCons-group\",\"label\":\"Username consumer:\",\"label-for\":\"usernameCons\"}},[_c('b-form-input',{attrs:{\"id\":\"usernameCons\",\"type\":\"text\",\"name\":\"usernameCons\",\"placeholder\":\"username consume\"},model:{value:(_vm.usernameCons),callback:function ($$v) {_vm.usernameCons=$$v},expression:\"usernameCons\"}})],1)],1),_c('UserInfo',{attrs:{\"required\":false,\"name\":_vm.nameCons,\"email\":_vm.emailCons},on:{\"change-info\":_vm.change_home}}),_c('b-button',{attrs:{\"type\":\"submit\",\"variant\":\"success\"}},[_vm._v(\"Upload\")]),_c('b-button',{attrs:{\"type\":\"reset\",\"variant\":\"danger\"}},[_vm._v(\"Reset\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',[_c('b-form-group',{attrs:{\"id\":\"file-group\",\"label\":\"File:\",\"label-for\":\"file\"}},[_c('b-form-file',{attrs:{\"id\":\"file\",\"type\":\"file\",\"name\":\"file\",\"required\":\"\"},nativeOn:{\"change\":function($event){return _vm.trasf64($event)}},model:{value:(_vm.file),callback:function ($$v) {_vm.file=$$v},expression:\"file\"}})],1),_c('b-form-group',{attrs:{\"id\":\"nameFile-group\",\"label\":\"Nome del file:\",\"label-for\":\"nameFile\"}},[_c('b-form-input',{attrs:{\"id\":\"nameFile\",\"type\":\"text\",\"name\":\"nameFile\",\"placeholder\":\"name of file\",\"required\":\"\"},nativeOn:{\"change\":function($event){return _vm.change_info($event)}},model:{value:(_vm.nameFile),callback:function ($$v) {_vm.nameFile=$$v},expression:\"nameFile\"}})],1),_c('b-form-group',{attrs:{\"id\":\"hashtag-group\",\"label\":\"Hashtag:\",\"label-for\":\"hashtag\"}},[_c('b-form-input',{attrs:{\"id\":\"hashtag\",\"type\":\"text\",\"name\":\"hashtag\",\"placeholder\":\"hashtag\"},nativeOn:{\"change\":function($event){return _vm.change_info($event)}},model:{value:(_vm.hashtag),callback:function ($$v) {_vm.hashtag=$$v},expression:\"hashtag\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-container>\r\n    <!-- <legend>File</legend> -->\r\n    <b-form-group id=\"file-group\" label=\"File:\" label-for=\"file\">\r\n      <b-form-file\r\n        @change.native=\"trasf64\"\r\n        id=\"file\"\r\n        type=\"file\"\r\n        name=\"file\"\r\n        v-model=\"file\"\r\n        required\r\n      />\r\n    </b-form-group>\r\n\r\n    <b-form-group\r\n      id=\"nameFile-group\"\r\n      label=\"Nome del file:\"\r\n      label-for=\"nameFile\"\r\n    >\r\n      <b-form-input\r\n        @change.native=\"change_info\"\r\n        id=\"nameFile\"\r\n        type=\"text\"\r\n        name=\"nameFile\"\r\n        v-model=\"nameFile\"\r\n        placeholder=\"name of file\"\r\n        required\r\n      />\r\n    </b-form-group>\r\n\r\n    <b-form-group id=\"hashtag-group\" label=\"Hashtag:\" label-for=\"hashtag\">\r\n      <b-form-input\r\n        @change.native=\"change_info\"\r\n        id=\"hashtag\"\r\n        type=\"text\"\r\n        name=\"hashtag\"\r\n        v-model=\"hashtag\"\r\n        placeholder=\"hashtag\"\r\n      />\r\n    </b-form-group>\r\n  </b-container>\r\n</template>\r\n\r\n<script>\r\nimport { changeInfoMixin } from \"@/utils/utils\";\r\n\r\nexport default {\r\n  name: \"FileInput\",\r\n  props: [\"file\", \"nameFile\", \"hashtag\"],\r\n  mixins: [changeInfoMixin],\r\n  watch: {\r\n    file: function() {\r\n      const valoreFile = { nameProp: \"file\", valueProp: this.file };\r\n      this.$emit(\"change-info\", valoreFile);\r\n    },\r\n  },\r\n  methods: {\r\n    trasf64(imgObj) {\r\n      const reader = new FileReader();\r\n      reader.onload = (elem) => {\r\n        this.file = elem.target.result.replace(/^data:.+;base64,/, \"\");\r\n      };\r\n      reader.onerror = function(error) {\r\n        console.log(\"Error: \", error);\r\n      };\r\n      reader.readAsDataURL(imgObj.target.files[0]);\r\n\r\n      let nameObject = imgObj.target.files[0].name;\r\n      let lastDot = nameObject.lastIndexOf(\".\");\r\n      const valoreExt = {\r\n        nameProp: \"extension\",\r\n        valueProp: nameObject.substring(lastDot),\r\n      };\r\n      this.$emit(\"change-info\", valoreExt);\r\n      //https://stackoverflow.com/questions/43708127/javascript-get-the-filename-and-extension-from-input-type-file\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FileInput.vue?vue&type=template&id=f0f7f8f2&\"\nimport script from \"./FileInput.vue?vue&type=script&lang=js&\"\nexport * from \"./FileInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <h2>Caricamento file</h2>\r\n    <b-form @submit.prevent=\"upload\" @reset.prevent=\"reset\">\r\n      <FileInput\r\n        :file=\"file\"\r\n        :nameFile=\"nameFile\"\r\n        :hashtag=\"hashtag\"\r\n        @change-info=\"change_home\"\r\n      />\r\n\r\n      <legend>Dati Consumer</legend>\r\n      <b-container>\r\n        <b-form-group\r\n          id=\"usernameCons-group\"\r\n          label=\"Username consumer:\"\r\n          label-for=\"usernameCons\"\r\n        >\r\n          <b-form-input\r\n            id=\"usernameCons\"\r\n            type=\"text\"\r\n            name=\"usernameCons\"\r\n            v-model=\"usernameCons\"\r\n            placeholder=\"username consume\"/></b-form-group\r\n      ></b-container>\r\n      <UserInfo\r\n        :required=\"false\"\r\n        :name=\"nameCons\"\r\n        :email=\"emailCons\"\r\n        @change-info=\"change_home\"\r\n      />\r\n      <!-- devo passare i valori all'input -->\r\n      <b-button type=\"submit\" variant=\"success\">Upload</b-button>\r\n      <b-button type=\"reset\" variant=\"danger\">Reset</b-button>\r\n    </b-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport FileInput from \"../input/FileInput\";\r\nimport UserInfo from \"../input/UserInfo\";\r\n\r\nimport axios from \"axios\";\r\nif (localStorage.getItem(\"jwtToken\") != null)\r\n  axios.defaults.headers[\"Authorization\"] = `Bearer ${localStorage.getItem(\r\n    \"jwtToken\"\r\n  )}`;\r\n\r\nexport default {\r\n  name: \"Upload\",\r\n  components: {\r\n    FileInput,\r\n    UserInfo,\r\n  },\r\n  data() {\r\n    return {\r\n      file: \"\",\r\n      nameFile: \"\",\r\n      hashtag: \"\",\r\n      extension: \"\",\r\n      usernameCons: \"\",\r\n      nameCons: \"\",\r\n      emailCons: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    change_home(infos) {\r\n      const { nameProp, valueProp } = infos;\r\n      switch (nameProp) {\r\n        case \"file\":\r\n          this.file = valueProp;\r\n          break;\r\n        case \"nameFile\":\r\n          this.nameFile = valueProp;\r\n          break;\r\n        case \"hashtag\":\r\n          this.hashtag = valueProp;\r\n          break;\r\n        case \"extension\":\r\n          this.extension = valueProp;\r\n          break;\r\n        // case \"usernameCons\":\r\n        //   this.usernameCons = valueProp;\r\n        //   break;\r\n        case \"name\":\r\n          this.nameCons = valueProp;\r\n          break;\r\n        case \"email\":\r\n          this.emailCons = valueProp;\r\n          break;\r\n        default:\r\n          console.log(\"switch concluso a vuoto\");\r\n          break;\r\n      }\r\n    },\r\n    reset() {\r\n      this.file = \"\";\r\n      this.extension = \"\";\r\n      this.nameFile = \"\";\r\n      this.hashtag = \"\";\r\n      this.usernameCons = \"\";\r\n      this.nameCons = \"\";\r\n      this.emailCons = \"\";\r\n    },\r\n    upload() {\r\n      axios\r\n        .post(`${process.env.VUE_APP_APIROOT}/files/upload`, {\r\n          file: this.file,\r\n          nameFile: this.nameFile + this.extension,\r\n          hashtag: this.hashtag,\r\n          usernameCons: this.usernameCons,\r\n          nameCons: this.nameCons,\r\n          emailCons: this.emailCons,\r\n        })\r\n        .then((res) => {\r\n          if (!res.data.startsWith(\"ERR\")) {\r\n            //TODO: modificare se uso risposte\r\n            const consumer = {\r\n              username: this.usernameCons,\r\n              name: this.nameCons,\r\n              email: this.emailCons,\r\n              logo: \"\",\r\n            };\r\n            this.$emit(\"upload_consumer\", consumer);\r\n\r\n            const dataCorrente = new Date();\r\n            const fileCaricato = {\r\n              id: \"TODO\", //TODO: mi devo far tornare l'id del file!!!!\r\n              usernameUpl: localStorage.getItem(\"nomeUtente\"),\r\n              usernameCons: this.usernameCons,\r\n              name: this.nameFile,\r\n              dataCaricamento: dataCorrente.toISOString().substring(0, 10),\r\n              dataVisualizzazione: \"\",\r\n              indirizzoIP: \"\",\r\n              hashtag: this.hashtag,\r\n            };\r\n            this.$emit(\"upload_file\", fileCaricato);\r\n\r\n            this.reset();\r\n          }\r\n          this.$emit(\"upload\", res.data);\r\n        })\r\n        .catch((err) => {\r\n          this.$emit(\"upload\", \"ERR - \" + err);\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Upload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Upload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Upload.vue?vue&type=template&id=30461b87&\"\nimport script from \"./Upload.vue?vue&type=script&lang=js&\"\nexport * from \"./Upload.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <b-navbar toggleable=\"lg\" type=\"dark\" variant=\"dark\">\r\n      <b-navbar-brand @click=\"showSezione('')\">Uploader page</b-navbar-brand>\r\n      <b-navbar-toggle target=\"nav-collapse\"></b-navbar-toggle>\r\n      <b-collapse id=\"nav-collapse\" is-nav\r\n        ><b-navbar-nav class=\"ml-auto\">\r\n          <b-nav-item @click=\"showSezione('')\">Lista consumer/file</b-nav-item>\r\n          <b-nav-item\r\n            @click=\"\r\n              showSezione('registration'), (roleRegistrazione = 'consumer')\r\n            \"\r\n            >Creare Consumer</b-nav-item\r\n          >\r\n\r\n          <b-nav-item-dropdown text=\"Modifica Attore\">\r\n            <b-dropdown-item\r\n              @click=\"showSezione('modInfo'), (roleRegistrazione = 'consumer')\"\r\n              >Consumer</b-dropdown-item\r\n            >\r\n            <b-dropdown-item\r\n              @click=\"showSezione('modInfo'), (roleRegistrazione = 'uploader')\"\r\n              >Uploader</b-dropdown-item\r\n            >\r\n          </b-nav-item-dropdown>\r\n          <b-nav-item @click=\"showSezione('upload')\"\r\n            >Carica nuovo file</b-nav-item\r\n          >\r\n          <!-- <b-nav-item @click=\"showSezione('deleteActor')\">Eliminazione Consumer</b-nav-item> -->\r\n        </b-navbar-nav>\r\n      </b-collapse>\r\n    </b-navbar>\r\n\r\n    <div v-show=\"sezione == ''\">\r\n      <h2>Lista Consumer</h2>\r\n      <Consumers\r\n        v-bind:consumers=\"consumers\"\r\n        @cons-files=\"showFiles\"\r\n        @del-cons=\"deleteAct\"\r\n      />\r\n    </div>\r\n    <div v-show=\"sezione == 'files'\">\r\n      <h2>Lista Files di {{ consumerScelto }}</h2>\r\n      <!-- TODO bottone provvisorio -->\r\n      <b-button @click=\"showSezione('')\">Lista file</b-button>\r\n      <Files :files=\"filesConsumer\" :ruolo=\"ruolo\" @del-file=\"deleteAct\" />\r\n    </div>\r\n\r\n    <div v-show=\"sezione == 'registration'\">\r\n      <Registration\r\n        :potere=\"ruolo\"\r\n        :role=\"roleRegistrazione\"\r\n        @registrazione=\"registration_home\"\r\n      />\r\n    </div>\r\n    <div v-show=\"sezione == 'modInfo'\">\r\n      <ModInfo\r\n        :potere=\"ruolo\"\r\n        :role=\"roleRegistrazione\"\r\n        @modInfo=\"modInfo_home\"\r\n      />\r\n    </div>\r\n    <div v-show=\"sezione == 'upload'\">\r\n      <Upload\r\n        @upload_consumer=\"upload_consumer_home\"\r\n        @upload_file=\"upload_file_home\"\r\n        @upload=\"upload_home\"\r\n      />\r\n    </div>\r\n\r\n    <Messages\r\n      :msg_success=\"msg_success\"\r\n      :msg_error=\"msg_error\"\r\n      :msg_warning=\"msg_warning\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Consumers from \"../components/lists/Consumers\";\r\nimport Files from \"../components/lists/Files\";\r\nimport Upload from \"../components/functions/Upload\";\r\nimport Registration from \"../components/functions/Registration\";\r\nimport ModInfo from \"../components/functions/ModInfo\";\r\nimport Messages from \"../components/layout/Messages\";\r\n\r\nimport { messagesMixin, sectionsMixin } from \"../utils/utils\";\r\n\r\nimport axios from \"axios\";\r\naxios.defaults.headers[\"Authorization\"] = `Bearer ${localStorage.getItem(\r\n  \"jwtToken\"\r\n)}`;\r\n\r\nexport default {\r\n  name: \"Uploader-page\",\r\n  components: {\r\n    Consumers,\r\n    Files,\r\n    Upload,\r\n    Registration,\r\n    ModInfo,\r\n    Messages,\r\n  },\r\n  mixins: [messagesMixin, sectionsMixin],\r\n  data() {\r\n    return {\r\n      ruolo: \"uploader\",\r\n      roleRegistrazione: \"\",\r\n      consumerScelto: null,\r\n      consumers: [],\r\n      filesUploader: [],\r\n      filesConsumer: [],\r\n    };\r\n  },\r\n  // watch: {\r\n  // },\r\n  methods: {\r\n    showFiles(consUsername) {\r\n      //TODO: considera il fatto di dividere il fatto di mostrare i file dal fatto di mandarlo nella sezione dei file\r\n      this.filesConsumer = null;\r\n      this.filesConsumer = this.filesUploader.filter(\r\n        (file) => file.usernameCons === consUsername\r\n      );\r\n      this.consumerScelto = consUsername;\r\n      this.sezione = \"files\";\r\n    },\r\n    deleteAct(id) {\r\n      let tipo;\r\n      if (this.consumerScelto === null) tipo = \"attori\";\r\n      else tipo = \"files\";\r\n\r\n      axios\r\n        .delete(`${process.env.VUE_APP_APIROOT}/${tipo}/delete/${id}`)\r\n        .then((res) => {\r\n          this.showMsg(res.data);\r\n          if (tipo == \"attori\")\r\n            this.consumers = this.consumers.filter(\r\n              (cons) => cons.username !== id\r\n            );\r\n          else {\r\n            this.filesUploader = this.filesUploader.filter(\r\n              (file) => file.id !== id\r\n            );\r\n            this.filesConsumer = this.filesUploader.filter(\r\n              (file) => file.usernameCons === this.consumerScelto\r\n            );\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          this.showMsg(err);\r\n        });\r\n    },\r\n    registration_home(frase) {\r\n      this.showMsg(frase);\r\n    },\r\n    modInfo_home(frase) {\r\n      this.showMsg(frase);\r\n    },\r\n    upload_consumer_home(nuovoConsumer) {\r\n      //TODO: controlla se funziona\r\n      const { usernameCons } = nuovoConsumer;\r\n      if (this.consumers.findIndex((el) => el.username === usernameCons) === -1)\r\n        this.consumers.push(nuovoConsumer);\r\n    },\r\n    upload_file_home(fileCaricato) {\r\n      this.filesUploader.push(fileCaricato);\r\n      this.showFiles(this.consumerScelto);\r\n      this.sezione = \"upload\"; //TODO: controlla se funziona e quanto lag procura questa ricarica\r\n    },\r\n    upload_home(frase) {\r\n      this.showMsg(frase);\r\n      //TODO se Ã¨ ok devo mandare un messaggio che bisogna riaggiornare la pagina per vedere i file appena caricato\r\n      //TODO fare il confronto tra i consumer in lista, se non presente lo si aggiunge\r\n    },\r\n    // deleteActor_home(frase) {\r\n    //   this.showMsg(frase);\r\n    // },\r\n  },\r\n  created() {\r\n    axios\r\n      .get(`${process.env.VUE_APP_APIROOT}/list/consumers`)\r\n      .then((res) => (this.consumers = res.data))\r\n      .catch((err) => this.showMsg(err));\r\n\r\n    axios\r\n      .get(`${process.env.VUE_APP_APIROOT}/list/filesUploader`)\r\n      .then((res) => (this.filesUploader = res.data))\r\n      .catch((err) => this.showMsg(err));\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Uploader-page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Uploader-page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Uploader-page.vue?vue&type=template&id=7438557e&\"\nimport script from \"./Uploader-page.vue?vue&type=script&lang=js&\"\nexport * from \"./Uploader-page.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar min = Math.min;\nvar nativeLastIndexOf = [].lastIndexOf;\nvar NEGATIVE_ZERO = !!nativeLastIndexOf && 1 / [1].lastIndexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('lastIndexOf');\n// For preventing possible almost infinite loop in non-standard implementations, test the forward version of the method\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\nvar FORCED = NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH;\n\n// `Array.prototype.lastIndexOf` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.lastindexof\nmodule.exports = FORCED ? function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {\n  // convert -0 to +0\n  if (NEGATIVE_ZERO) return nativeLastIndexOf.apply(this, arguments) || 0;\n  var O = toIndexedObject(this);\n  var length = toLength(O.length);\n  var index = length - 1;\n  if (arguments.length > 1) index = min(index, toInteger(arguments[1]));\n  if (index < 0) index = length + index;\n  for (;index >= 0; index--) if (index in O && O[index] === searchElement) return index || 0;\n  return -1;\n} : nativeLastIndexOf;\n"],"sourceRoot":""}